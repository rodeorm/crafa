DROP SCHEMA IF EXISTS bin CASCADE; --ВРЕМЕННО
CREATE SCHEMA IF NOT EXISTS bin;

CREATE TABLE IF NOT EXISTS bin.IssueFiles
(
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY 	
	, IssueID   INT
	, Name text       	
	, File BYTEA 	
	, PRIMARY KEY (ID)
    , FOREIGN KEY (IssueID) REFERENCES data.Issues(ID) DEFERRABLE
) WITH (OIDS=FALSE, FILLFACTOR=90);

CREATE TABLE IF NOT EXISTS bin.MessageFiles
(
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY 	
	, MessageID   INT  
	, Name text        	
	, File BYTEA 	
	, PRIMARY KEY (ID)
    , FOREIGN KEY (MessageID) REFERENCES data.Messages(ID) DEFERRABLE
) WITH (OIDS=FALSE, FILLFACTOR=90);

CREATE TABLE IF NOT EXISTS bin.FeatureFiles
(
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY 	
	, FeatureID   INT
	, Name text          	
	, File BYTEA 	
	, PRIMARY KEY (ID)
    , FOREIGN KEY (FeatureID) REFERENCES data.Features(ID) DEFERRABLE
) WITH (OIDS=FALSE, FILLFACTOR=90);

CREATE TABLE IF NOT EXISTS bin.ReqFiles
(
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY 	
	, RequirementID   INT
	, Name text          	
	, File BYTEA 	
	, PRIMARY KEY (ID)
    , FOREIGN KEY (RequirementID) REFERENCES data.Requirements(ID) DEFERRABLE
) WITH (OIDS=FALSE, FILLFACTOR=90);

CREATE TABLE IF NOT EXISTS bin.TaskFiles
(
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY 	
	, TaskID   INT  
	, Name text        	
	, File BYTEA 	
	, PRIMARY KEY (ID)
    , FOREIGN KEY (TaskID) REFERENCES data.Tasks(ID) DEFERRABLE
) WITH (OIDS=FALSE, FILLFACTOR=90);